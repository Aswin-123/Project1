(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{WGeJ:function(t,e,a){"use strict";a.r(e),a.d(e,"DashBoardModule",(function(){return y}));var s=a("ofXK"),n=a("fXoL"),o=a("tyNb"),i=a("W9d6"),c=a("1kSV"),b=a("hl1e");let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Fb({type:t,selectors:[["app-task-details"]],inputs:{task:"task"},decls:24,vars:6,consts:[[1,"taskwrapper"],[1,"taskRow"],["type","button",1,"btn","btn-primary","btn-block","taskButton"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"b"),n.Gc(3," Task Name :"),n.Qb(),n.Gc(4),n.Qb(),n.Rb(5,"div",1),n.Rb(6,"b"),n.Gc(7," Category :"),n.Qb(),n.Gc(8),n.Qb(),n.Rb(9,"div",1),n.Rb(10,"b"),n.Gc(11," Status :"),n.Qb(),n.Gc(12),n.Qb(),n.Rb(13,"div",1),n.Rb(14,"b"),n.Gc(15," Start Date :"),n.Qb(),n.Gc(16),n.Qb(),n.Rb(17,"div",1),n.Rb(18,"b"),n.Gc(19," End Date :"),n.Qb(),n.Gc(20),n.Qb(),n.Rb(21,"div"),n.Rb(22,"button",2),n.Gc(23),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.yb(4),n.Hc(e.task.taskName),n.yb(4),n.Hc(e.task.category),n.yb(4),n.Hc(e.task.status),n.yb(4),n.Hc(e.task.startDateVM),n.yb(4),n.Hc(e.task.endDateVM),n.yb(3),n.Ic(" ",e.task.buttonText," "))},styles:[".taskwrapper[_ngcontent-%COMP%]{width:300px;margin:15px 30px;border:1px solid #000;border-radius:10px;float:left;color:#dc143c;background-color:#faebd7}.taskRow[_ngcontent-%COMP%]{padding:1px 10px}.taskButton[_ngcontent-%COMP%]{width:150px;vertical-align:middle;margin-left:75px;margin-top:2px;margin-bottom:5px}"]}),t})();function l(t,e){if(1&t&&(n.Rb(0,"div"),n.Mb(1,"app-task-details",3),n.Qb()),2&t){const t=e.$implicit;n.yb(1),n.lc("task",t)}}function d(t,e){if(1&t&&(n.Rb(0,"div"),n.Ec(1,l,2,1,"div",2),n.Qb()),2&t){const t=n.ec();n.yb(1),n.lc("ngForOf",t.tasks)}}function p(t,e){if(1&t&&(n.Rb(0,"div"),n.Mb(1,"app-task-details",3),n.Qb()),2&t){const t=e.$implicit;n.yb(1),n.lc("task",t)}}function u(t,e){if(1&t&&(n.Rb(0,"div"),n.Ec(1,p,2,1,"div",2),n.Qb()),2&t){const t=n.ec();n.yb(1),n.lc("ngForOf",t.todosUp)}}function g(t,e){if(1&t&&(n.Rb(0,"div"),n.Mb(1,"app-task-details",3),n.Qb()),2&t){const t=e.$implicit;n.yb(1),n.lc("task",t)}}function D(t,e){if(1&t&&(n.Rb(0,"div"),n.Ec(1,g,2,1,"div",2),n.Qb()),2&t){const t=n.ec();n.yb(1),n.lc("ngForOf",t.todosCom)}}let h=(()=>{class t{constructor(t,e){this.service=t,this.datepipe=e,this.tasks=[],this.todosCom=[],this.todosUp=[]}ngOnInit(){this.status1="Completed",this.getTodo(),this.getTodoCompleate(),this.getToDoUpcoming(),console.warn("status",this.status),console.warn("status1",this.status1)}getTodo(){this.service.getToDo().subscribe(t=>{t.forEach(t=>{this.tasks.push(Object.assign(Object.assign({},t),{autoCloseVM:t.autoClose?"Yes":"No",startDateVM:this.datepipe.transform(t.startDate,"longDate"),endDateVM:this.datepipe.transform(t.endDate,"longDate"),status:this.getStatus(t.endDate?new Date(t.endDate):null,new Date(t.startDate)),buttonText:this.getButtonText(t.endDate?new Date(t.endDate):null,new Date(t.startDate))}))})})}getTodoCompleate(){this.service.getToDoCompleate().subscribe(t=>{t.forEach(t=>{this.todosCom.push(Object.assign(Object.assign({},t),{autoCloseVM:t.autoClose?"Yes":"No",startDateVM:this.datepipe.transform(t.startDate,"longDate"),endDateVM:this.datepipe.transform(t.endDate,"longDate"),status:this.getStatus(t.endDate?new Date(t.endDate):null,new Date(t.startDate)),buttonText:this.getButtonText(t.endDate?new Date(t.endDate):null,new Date(t.startDate))}))})})}getToDoUpcoming(){this.service.getToDoUpcoming().subscribe(t=>{t.forEach(t=>{this.todosUp.push(Object.assign(Object.assign({},t),{autoCloseVM:t.autoClose?"Yes":"No",startDateVM:this.datepipe.transform(t.startDate,"longDate"),endDateVM:this.datepipe.transform(t.endDate,"longDate"),status:this.getStatus(t.endDate?new Date(t.endDate):null,new Date(t.startDate)),buttonText:this.getButtonText(t.endDate?new Date(t.endDate):null,new Date(t.startDate))}))})})}getStatus(t,e){const a=new Date;return t?t<a?"Completed":e>a?"Upcoming":"Ongoing":"Constant"}getButtonText(t,e){const a=new Date;return t&&t<a?"Re-Open":"Mark it as Done"}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(b.a),n.Lb(s.d))},t.\u0275cmp=n.Fb({type:t,selectors:[["app-task-list"]],inputs:{status:"status"},decls:4,vars:3,consts:[[1,"detailsList"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"task"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Ec(1,d,2,1,"div",1),n.Ec(2,u,2,1,"div",1),n.Ec(3,D,2,1,"div",1),n.Qb()),2&t&&(n.yb(1),n.lc("ngIf","all"===e.status),n.yb(1),n.lc("ngIf","upcoming"===e.status),n.yb(1),n.lc("ngIf","completed"===e.status))},directives:[s.l,s.k,r],styles:[".detailsList[_ngcontent-%COMP%]{display:flow-root;width:100%}"]}),t})();const f=["tabs"];function m(t,e){if(1&t&&n.Mb(0,"app-task-list",9),2&t){const t=n.ec();n.lc("status",t.aaaa)}}function v(t,e){if(1&t&&n.Mb(0,"app-task-list",9),2&t){const t=n.ec();n.lc("status",t.aaaa)}}function k(t,e){if(1&t&&n.Mb(0,"app-task-list",9),2&t){const t=n.ec();n.lc("status",t.aaaa)}}const w=[{path:"",component:(()=>{class t{constructor(t,e){this.route=t,this.securityService=e}ngOnInit(){this.onchangeName("1"),this.securityService.getUserDetails().subscribe(t=>this.userDetails=t)}ngAfterViewInit(){this.aaaa=this.tabs.activeId}onTabChange(){this.aaaa=this.tabs.activeId}activeTab(){return"ngb-tab-0"}onchangeName(t){"0"==t?this.aaaa="All":"2"==t?this.aaaa="Completed":"1"==t&&(this.aaaa="Upcoming")}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(o.a),n.Lb(i.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["app-dashboard"]],viewQuery:function(t,e){var a;1&t&&n.Kc(f,!0),2&t&&n.wc(a=n.dc())&&(e.tabs=a.first)},decls:13,vars:1,consts:[[1,"cart"],[1,"col-md-12"],[1,"page-header"],[3,"activeId","tabChange"],["tabs",""],["title","All","id","all"],["ngbTabContent",""],["title","Upcoming","id","upcoming"],["title","Completed","id","completed"],[3,"status"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"span",2),n.Gc(3,"DASHBOARD"),n.Qb(),n.Qb(),n.Rb(4,"div"),n.Rb(5,"ngb-tabset",3,4),n.cc("tabChange",(function(){return e.onTabChange()})),n.Rb(7,"ngb-tab",5),n.Ec(8,m,1,1,"ng-template",6),n.Qb(),n.Rb(9,"ngb-tab",7),n.Ec(10,v,1,1,"ng-template",6),n.Qb(),n.Rb(11,"ngb-tab",8),n.Ec(12,k,1,1,"ng-template",6),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.yb(5),n.lc("activeId",e.activeTab))},directives:[c.e,c.c,c.d,h],styles:[".nav-tabs[_ngcontent-%COMP%]{float:right;margin:30px}.nav-link.active[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#000}"]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)},imports:[[s.b,o.f.forChild(w),c.b]]}),t})()}}]);