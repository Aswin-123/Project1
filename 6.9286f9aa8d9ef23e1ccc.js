(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{iw8B:function(t,e,s){"use strict";s.r(e),s.d(e,"TaskEntryModule",(function(){return f}));var i=s("ofXK"),o=s("tyNb"),a=s("3Pt+"),r=s("fXoL"),n=s("AytR"),c=s("tk/3");let b=(()=>{class t{constructor(t){this.http=t}getTaskList(){return this.http.get(n.a.apiBaseURL+"/TodoItems")}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(c.b))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l=(()=>{class t{constructor(t){this.http=t}postTaskList(t){return this.http.post(n.a.apiBaseURL+"/Employes",t)}getTaskDetailslist(){return this.http.get(n.a.apiBaseURL+"/Employes")}putTaskList(t){return this.http.put(n.a.apiBaseURL+"/Employes/"+t.task_Id,t)}deleteTaskList(t){return this.http.delete(n.a.apiBaseURL+"/Employes/"+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(c.b))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function d(t,e){if(1&t&&(r.Rb(0,"span",9),r.Mb(1,"i"),r.Gc(2),r.Qb()),2&t){const t=r.ec();r.yb(1),r.Bb("fan fa-check-circle ",t.notification.class,""),r.yb(1),r.Ic(" ",t.notification.message," ")}}function u(t,e){if(1&t&&(r.Rb(0,"option",21),r.Gc(1),r.Qb()),2&t){const t=e.$implicit;r.mc("value",t.id),r.yb(1),r.Hc(t.name)}}function p(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",10),r.cc("submit",(function(){r.yc(t);const s=e.$implicit;return r.ec().recordSubmit(s)})),r.Rb(1,"div",3),r.Mb(2,"input",11),r.Qb(),r.Rb(3,"div",3),r.Rb(4,"select",12),r.Rb(5,"option",13),r.Gc(6,"Select"),r.Qb(),r.Ec(7,u,2,2,"option",14),r.Qb(),r.Qb(),r.Rb(8,"div",3),r.Mb(9,"input",15),r.Qb(),r.Rb(10,"div",3),r.Mb(11,"input",16),r.Qb(),r.Rb(12,"div",3),r.Rb(13,"button",17),r.Mb(14,"i",18),r.Gc(15),r.Qb(),r.Rb(16,"button",19),r.cc("click",(function(){r.yc(t);const s=e.$implicit,i=e.index;return r.ec().onDelete(s.get("task_Id").value,i)})),r.Mb(17,"i",20),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,s=r.ec();r.lc("formGroup",t),r.yb(7),r.lc("ngForOf",s.TaskList),r.yb(6),r.lc("disabled",t.invalid)("ngClass",0==t.get("task_Id").value?"btn-success":"btn-outline-dark"),r.yb(2),r.Ic(" ",0==t.get("task_Id").value?"Submit":"Update"," ")}}const m=[{path:"",component:(()=>{class t{constructor(t,e,s){this.fb=t,this.taskServiceService=e,this.employeTaskServiceService=s,this.taskMasterForms=this.fb.array([]),this.TaskList=[],this.notification=null}ngOnInit(){this.taskServiceService.getTaskList().subscribe(t=>this.TaskList=t),this.employeTaskServiceService.getTaskDetailslist().subscribe(t=>{t==[]?this.addtaskMasterForm():t.forEach(t=>{this.taskMasterForms.push(this.fb.group({task_Id:[t.task_Id],emp_Id:[t.emp_Id],id:[t.id,a.w.min(1)],emp_Name:[t.emp_Name,a.w.required],isComplete:[t.isComplete,a.w.required]}))})})}addtaskMasterForm(){this.taskMasterForms.push(this.fb.group({task_Id:[0],emp_Id:[""],id:[0,a.w.min(1)],emp_Name:["",a.w.required],isComplete:[""]}))}recordSubmit(t){0==t.value.task_Id?this.employeTaskServiceService.postTaskList(t.value).subscribe(e=>{t.patchValue({task_Id:e.task_Id}),this.showNotification("insert")}):this.employeTaskServiceService.putTaskList(t.value).subscribe(t=>{this.showNotification("update")})}onDelete(t,e){0==t?this.taskMasterForms.removeAt(e):confirm("Are you sure to delete this record ?")&&this.employeTaskServiceService.deleteTaskList(t).subscribe(t=>{this.taskMasterForms.removeAt(e),this.showNotification("delete")})}showNotification(t){switch(t){case"insert":this.notification={class:"text-success",message:"saved!"};break;case"update":this.notification={class:"text-primary",message:"updated!"};break;case"delete":this.notification={class:"text-danger",message:"deleted!"}}setTimeout(()=>{this.notification=null},3e3)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(a.c),r.Lb(b),r.Lb(l))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-task-master"]],decls:19,vars:2,consts:[[1,"grid-table"],[1,"thead"],[1,"tr"],[1,"td"],[1,"btn","btn-outline-success",3,"click"],[1,"fa","fa-plus"],["class","elementToFadeInAndOut",4,"ngIf"],[1,"tbody"],["class","tr",3,"formGroup","submit",4,"ngFor","ngForOf"],[1,"elementToFadeInAndOut"],[1,"tr",3,"formGroup","submit"],["formControlName","emp_Id",1,"form-control"],["formControlName","id",1,"form-control"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["formControlName","emp_Name",1,"form-control"],["formControlName","isComplete",1,"form-control"],["type","submit",1,"btn","testclass",3,"disabled","ngClass"],[1,"fas","fa-save","fa-lg"],[1,"btn","btn-light","ml-1",3,"click"],[1,"far","fa-trash-alt","fa-lg","text-danger"],[3,"value"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Gc(4,"Task No"),r.Qb(),r.Rb(5,"div",3),r.Gc(6,"Task Name"),r.Qb(),r.Rb(7,"div",3),r.Gc(8,"Employee Name"),r.Qb(),r.Rb(9,"div",3),r.Gc(10,"Remark"),r.Qb(),r.Rb(11,"div",3),r.Rb(12,"button",4),r.cc("click",(function(){return e.addtaskMasterForm()})),r.Mb(13,"i",5),r.Gc(14," New Account "),r.Qb(),r.Qb(),r.Rb(15,"div",3),r.Ec(16,d,3,4,"span",6),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"div",7),r.Ec(18,p,18,5,"form",8),r.Qb(),r.Qb()),2&t&&(r.yb(16),r.lc("ngIf",e.notification),r.yb(2),r.lc("ngForOf",e.taskMasterForms.controls))},directives:[i.l,i.k,a.y,a.o,a.f,a.b,a.n,a.d,a.v,a.r,a.x,i.j],styles:[".button[_ngcontent-%COMP%]{background-color:#4caf50;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px}"]}),t})()}];let f=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.b,a.h,a.t,o.f.forChild(m),c.c]]}),t})()}}]);